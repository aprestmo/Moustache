const d=document.querySelector("#js-menu-toggle--open"),m=document.querySelector("#js-menu-toggle--close"),a=document.querySelector("#js-site-navigation");d.addEventListener("click",()=>{a.classList.toggle("is-visible")}),m.addEventListener("click",()=>{a.classList.toggle("is-visible")}),document.addEventListener("keyup",s=>{a.classList.contains("is-visible")&&s.key==="Escape"&&a.classList.toggle("is-visible")});function p(){const s=document.querySelector('[data-toggle="search"]'),i=document.querySelector("#js-search-overlay"),c=document.querySelector("#js-search-field");s.addEventListener("click",()=>{i.classList.toggle("is-visible"),setTimeout(()=>{c.focus()},100)}),document.addEventListener("keyup",l=>{i.classList.contains("is-visible")&&l.key==="Escape"&&i.classList.toggle("is-visible")})}p(),function(s){function i(e){var t=e.find(".marker"),n={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(e[0],n);return o.markers=[],t.each(function(){c(s(this),o)}),l(o),o}function c(e,t){var n=e.data("lat"),o=e.data("lng"),u={lat:parseFloat(n),lng:parseFloat(o)},r=new google.maps.Marker({position:u,map:t});if(t.markers.push(r),e.html()){var g=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(r,"click",function(){g.open(t,r)})}}function l(e){var t=new google.maps.LatLngBounds;e.markers.forEach(function(n){t.extend({lat:n.position.lat(),lng:n.position.lng()})}),e.markers.length==1?e.setCenter(t.getCenter()):e.fitBounds(t)}s(document).ready(function(){s(".acf-map").each(function(){i(s(this))})})}(jQuery),menu(),search();
